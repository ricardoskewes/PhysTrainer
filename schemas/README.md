# Schemas
Here are the schema definitions of the core Phystrainer objects.

## User
Represents a user in the system, either a learner, teacher or admin. 

### `userID: String`
Unique identifier of user in database, auth management and hosting. This value is unique and auto generated.

### `isOnline: Boolean`
(Unused) Returns true when the user is online active in the system.

### `creationDate: Date`
Date of creation of the user. This value is autogenerated as the date and time in which the user was uploaded to the database. 

### `username: String`
One word user-friendly identifier. This value should be unique, although it may be possible to be modified in the future. 

### `fullName: String`
"Real" name of the user. 

### `photoURL: String`
(Buggy) URL of user profile picture

### `priviledges: String`
(Unused) Level of priviledges inside the system. 
> â˜­ Marx disapproves

### `score: Number`
(To be implemented) Accumulated score from answer submission. Similar in concept to Reddit or StackOverflow points

## Exercise
Exercises are documents with info and/or questions created by users to share among learners. 

### `exerciseID: String`
Unique identifier of user in database. This value is unique and autogenerated. This value is also public to users. 

### `author: User`
User who created the exercise. This value can also be filled with the author's `userID`. 
> Note: username should NEVER be used to associate an exercise with its author. 
The author has special permissions within the exercise, such as:
- Modifying the exercise
- Deleting the exercise
- Adding/removing content
- Seeing all answer submissions

### `title: String`
Title of the exercise. This value should be short. Further titles, subtitles and descriptions are included in the content. 

### `creationDate: Date`
Date of creation of the exercise. This value is autogenerated as the date and time in which it was uploaded to the database. 

### `lastModifiedDate: Date`
Date of last modification of the exercise. This value is autogenerated. 

### `items: ExerciseItem[]`
Array of contents in the exercise. This can be either questions or markdown. 

## ExerciseItem
Refers to each individual block of content within an exercise.

### `exerciseItemID: String`
Unique identifier for each exercise item. This is generated automatically based on the parent exercise's `exerciseID` and the index in the array of this item. 

### `type: "question" | "markdown"`
Type of content, either question or markdown

### `content: Question | String`
Content varies according to `type`.
For _markdown_, `content` is a string containing the raw markdown.
For _questions_, `content` is a `Question` object.

## Question
Questions are used inside an exercise to receive and validate user input. It is one of the building blocks and key differenciators of Phystrainer.
> Further documentation, especially regarding rules and feedback will be added. Many parts are not final and are subject to change. 

### `type: String`
Depending on the context, different question types might be appropriate, such as number inputs, sliders, etc. Phystrainer currently supports:

| Types  | Description |
| ------ | ----------- |
| PTQuestion.checkbox | Learners select one or more values from a list of choices. |
| PTQuestion.multipleChoice | Learners select only one answer from a list of choices. Can be displayed as radio buttons or dropdown menu. |
| PTQuestion.number | Learners are able to input a number (integers, fractions or constants). Can be displayed as numerical input box or a slider. |
| PTQUestion.text | Learners are able to input text. |
| PTQuestion.math | Learners input a mathematical expression that is evaluated symbollically using [KAS](https://github.com/khan/KAS). |
| PTQuestion.function | Learners input a mathematical function that is evaluated agains a set of variables using [KAS](https://github.com/khan/KAS). |

### `description: String`
Text to be shown alongside the question input, such as instructions. This should be short text. 

### `showAnswer: String`
(Unused) Determines when and if to show answers to learners.

### `attempts: Number`
(Deprecated) Maximum number of attempts.
> Exercises are to be submitted as a whole for technical reasons (efficency, reducing firebase costs, easier handling). Hence this value is proposed to belong to the exercise. 

### `attemptPenalization: Number`
(Deprecated) Percentage penalization on score per incorrect attempt. 
> Same as above. 

### `score: Number`
Number of points awarded by this question. 
> To prevent abuse, several categories are to be implemented, with a scale of 1 to 5.

### `minValue: Number`
For PTQuestion.number. Minimum (inclusive) value the learner is allowed to enter on an input.

### `maxValue: Number`
For PTQuestion.number. Maximum (inclusive) value the learner is allowed to enter on an input.

### `stepValue: Number`
For PTQuestion.number. Stop value the learner is allowed to enter on an input. Specially useful when used in range sliders.

### `randomnize: Booolean`
For PTQuestion.checkbox, PTQuestion.multipleChoice, PTQuestion.function. Determines if the order of `data` should be random. 

### `maxDatapoints: Number`
For PTQuestion.checkbox, PTQuestion.multipleChoice, PTQuestion.function. Determines the maximum number of `data` entries to be shown to the user.

### `datapoints: {type: String, value: Any}[]`
For PTQuestion.checkbox, PTQuestion.multipleChoice refers to choices to be shown. All the correct choices will ALWAYS be shown. 
For PTQuestion.function refers to the collection of points with which the function will be evaluated. 

### `rules: []`
This property should never be shown to the learner or sent to the client. Rules used to verify answers. 
> TODO: Define

### `userSubmissions: []`
Only visible to author. All past submissions made by the user. 
> TODO: Define