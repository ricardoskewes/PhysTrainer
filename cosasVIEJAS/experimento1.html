<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>PhysTrainer</title>
 
    <!-- Katex -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js" integrity="sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4" crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js" integrity="sha384-mll67QQFJfxn0IYznZYonOWZ644AWYC+Pt2cHqMaRhXVrursRwvLnLaebdGIlYNa" crossorigin="anonymous"
        onload="renderMathInElement(document.body);"></script>
</head>
<body id="experimental">

  <!-- ======= Header ======= -->
  
  

    <!-- ======= Paso 1 Ingresar Valores ======= -->
    <section id="variables" class="events" style="padding-bottom: 0px;">
      <div class="container" data-aos="fade-up" style="padding-right: 7%; padding-left: 7%;">
        <div class="row">
          <div class="col-md-6 d-flex align-items-stretch">
            <div class="card">
              <div class="card-img">
                <img id="variable-independiente-img" src="assets/img/unidades/longitud.jpg" alt="...">
              </div>
              <div class="card-body">
                <p class="font-italic text-center">Variable independiente</p>
                <h5 class="card-title" id="variable-independiente-nombre">Longitud</h5>
                <p class="card-text">
                    <input type="number" id="variable-independiente-valor" placeholder="Ingresa un valor" style="width: 100%; text-align: center; font-size: large;">
                  <h3 style="text-align: center;">
                    <span id="variable-independiente-unidad">Esperando medición</span>
                  </h3>
                </p>
              </div>
            </div>
          </div>
          <div class="col-md-6 d-flex align-items-stretch">
            <div class="card">
              <div class="card-img">
                <img id="variable-dependiente-img" src="assets/img/unidades/campoMagnetico.jpg" alt="...">
              </div>
              <div class="card-body">
                <p class="font-italic text-center">Variable Dependiente</p>
                <h5 class="card-title" id="variable-dependiente-nombre">Campo Magnético</h5>
                <p class="card-text">
                  <h2 style="text-align: center;">
                    <span id="variable-dependiente-valor">Esperando medición</span> 
                    <span id="variable-dependiente-unidad"></span> 
                  </h2>
                </p>
              </div>
            </div>
          </div>
      </div>
      <a href="enConstruccion.html" id="siguiente">
        <div class="breadcrumbs" style="margin-top: 0;">
          <h2>Siguiente</h2>
        </div>
      </a>
    </section><!-- End Events Section -->

    <!-- ======= Paso 2: Ecuacion ======= -->
    <section id="respuestas" class="events" style="padding-bottom: 0px; display: none;">
      <div class="container" data-aos="fade-up">
        <!-- <div class="row"> -->
          <h1>Aqui ira la parte de respuestas</h1>
          <p>Aqui van a ir las opciones</p>

          <h2 id="respuestas-ecuacion">
            $$y=$$<input type="number" placeholder="m" style="font-size: x-large; text-align: center;">$$x +$$ <input type="number" placeholder="b" style=" text-align: center; font-size: x-large;">
          </h2>
        <!-- </div> -->
      </div>
    </section>

<!-- quitar -->
<div>
  <strong>TESTING DATA</strong>
  <div id="test"></div>
</div>
<!-- end quitar -->


  </main><!-- End #main -->

  <!-- ======= Footer ======= -->
  <footer id="footer">

    <div class="container d-md-flex py-4">

      <div class="mr-md-auto text-center text-md-left">
        <div class="copyright">
          &copy; Copyright <strong><span>Sociedad Mexicana de Física</span></strong>. Todos los derechos reservados. 
        </div>
        <div class="credits">
          <!-- All the links in the footer should remain intact. -->
          <!-- You can delete the links only if you purchased the pro version. -->
          <!-- Licensing information: https://bootstrapmade.com/license/ -->
          <!-- Purchase the pro version with working PHP/AJAX contact form: https://bootstrapmade.com/mentor-free-education-bootstrap-theme/ -->
          <p style="font-size: xx-small;">Diseño <a href="https://bootstrapmade.com/">BootstrapMade</a></p>
        </div>
      </div>
      <div class="social-links text-center text-md-right pt-3 pt-md-0">
        <a href="#" class="twitter"><i class="bx bxl-twitter"></i></a>
        <a href="#" class="facebook"><i class="bx bxl-facebook"></i></a>
        <a href="#" class="instagram"><i class="bx bxl-instagram"></i></a>
        <a href="#" class="google-plus"><i class="bx bxl-skype"></i></a>
        <a href="#" class="linkedin"><i class="bx bxl-linkedin"></i></a>
      </div>
    </div>
  </footer><!-- End Footer -->

  <a href="#" class="back-to-top"><i class="bx bx-up-arrow-alt"></i></a>
  <div id="preloader"></div>

  <!-- Vendor JS Files -->
  <script src="assets/vendor/jquery/jquery.min.js"></script>
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/jquery.easing/jquery.easing.min.js"></script>
  <script src="assets/vendor/php-email-form/validate.js"></script>
  <script src="assets/vendor/waypoints/jquery.waypoints.min.js"></script>
  <script src="assets/vendor/counterup/counterup.min.js"></script>
  <script src="assets/vendor/owl.carousel/owl.carousel.min.js"></script>
  <script src="assets/vendor/aos/aos.js"></script>

  <!-- Template Main JS File -->
  <script src="assets/js/main.js"></script>
  <!-- Phystrainer js -->
  <script src="./assets/js/experimental.js"></script>
  <script>
    let ecuacion = new PhysTrainerProblem()
    //Cambiar imágenes:
    document.querySelector("#variable-independiente-img").src = ("assets/img/unidades/" + ecuacion.magX + ".jpg");
    document.querySelector("#variable-dependiente-img").src = ("assets/img/unidades/" + ecuacion.magY + ".jpg");
    //Escribir nombre de X y Y:
    document.querySelector("#variable-independiente-nombre").innerHTML = PhysTrainerProblem.MAGNITUDES[ecuacion.magX][4];
    document.querySelector("#variable-dependiente-nombre").innerHTML = PhysTrainerProblem.MAGNITUDES[ecuacion.magY][4];
    var expVarIndep = ecuacion._expVariableIndep();

    // document.querySelector("#test").innerHTML = ecuacion.funcion
    document.querySelector("#test").innerHTML = ecuacion.funcion + "\n a: " + ecuacion.params[0] + ", b: " + ecuacion.params[1] + ", c: " + ecuacion.params[2]  
    // document.querySelector("#variable-independiente-valor").setAttribute('max', ecuacion.x_max);
    // document.querySelector("#variable-independiente-valor").setAttribute('min', ecuacion.x_min);
    
    document.querySelector("#variable-independiente-valor").addEventListener('input', (e)=>{
      katex.render(ecuacion._unidadConPrefijo(PhysTrainerProblem.MAGNITUDES[ecuacion.magX][3],expVarIndep), document.querySelector("#variable-independiente-unidad"), {
        throwOnError: false
        } );
      if(e.target.value == ""){
        document.querySelector("#variable-dependiente-valor").innerHTML = "Esperando medición"
        document.querySelector("#variable-dependiente-unidad").innerHTML = ""
      } else{
        document.querySelector("#variable-dependiente-valor").innerHTML = ecuacion.calcularValores(e.target.value*expVarIndep)[0].toFixed(1);
        katex.render(ecuacion.calcularValores(e.target.value)[1], document.querySelector("#variable-dependiente-unidad"), {
        throwOnError: false
        } ); 

      }
    })
    document.querySelector("#siguiente").addEventListener('click', (e)=>{
      e.preventDefault();
      document.querySelector("#variables").style.display = "none";
      document.querySelector("#respuestas").style.display = "block"
    })
  </script>
</body>

</html>